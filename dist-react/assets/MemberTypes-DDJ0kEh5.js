import{u as w,j as e,F as T,a as m,b as x,V as h,d as j,I as y,E as u,G as D,a4 as M,a5 as F,a6 as L,a7 as B,a8 as b,B as c,r as f,H as E,X as P,x as I,J as A,K as V,M as H,Y as O,Z as k,_ as S,$ as n,a0 as z,a1 as i,a2 as R,a3 as $}from"./index-bC756Pjy.js";import{t as q,o as G,s as v,e as J}from"./index-LAbyUkC8.js";const K=G({name:v().min(2,"Name must be at least 2 characters"),description:v().min(10,"Description must be at least 10 characters"),accessLevel:J(["Basic","Standard","Premium"]),dateCreated:v().date()});function U({initialData:p,onSubmit:r,onCancel:t}){const l=w({resolver:q(K),defaultValues:p||{name:"",description:"",accessLevel:"Basic",dateCreated:new Date().toISOString().split("T")[0]}});return e.jsx(T,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(r),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(m,{control:l.control,name:"name",render:({field:a})=>e.jsxs(x,{children:[e.jsx(h,{children:"Member Type Name"}),e.jsx(j,{children:e.jsx(y,{...a,placeholder:"e.g., Faculty Staff"})}),e.jsx(u,{})]})}),e.jsx(m,{control:l.control,name:"description",render:({field:a})=>e.jsxs(x,{children:[e.jsx(h,{children:"Description"}),e.jsx(j,{children:e.jsx(D,{...a,className:"min-h-[100px]",placeholder:"Describe the member type"})}),e.jsx(u,{})]})}),e.jsx(m,{control:l.control,name:"accessLevel",render:({field:a})=>e.jsxs(x,{children:[e.jsx(h,{children:"Access Level"}),e.jsxs(M,{onValueChange:a.onChange,defaultValue:a.value,children:[e.jsx(j,{children:e.jsx(F,{children:e.jsx(L,{placeholder:"Select access level"})})}),e.jsxs(B,{children:[e.jsx(b,{value:"Basic",children:"Basic"}),e.jsx(b,{value:"Standard",children:"Standard"}),e.jsx(b,{value:"Premium",children:"Premium"})]})]}),e.jsx(u,{})]})}),e.jsx(m,{control:l.control,name:"dateCreated",render:({field:a})=>e.jsxs(x,{children:[e.jsx(h,{children:"Effective Date"}),e.jsx(j,{children:e.jsx(y,{type:"date",...a})}),e.jsx(u,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),e.jsx(c,{type:"submit",children:p?"Save Changes":"Create Member Type"})]})]})})}const X=[{id:"1",name:"Student",description:"Full-time enrolled students",accessLevel:"Standard",dateCreated:"2023-01-01"},{id:"2",name:"Faculty",description:"University staff and professors",accessLevel:"Premium",dateCreated:"2023-03-15"},{id:"3",name:"Employee",description:"Corporate partnership employees",accessLevel:"Basic",dateCreated:"2023-05-20"}];function _({onComplete:p}){const[r,t]=f.useState(X),[l,a]=f.useState(!1),[d,g]=f.useState(null),C=s=>{t(d?r.map(o=>o.id===d.id?s:o):[...r,{...s,id:Date.now().toString()}]),a(!1),g(null)},N=s=>{window.confirm("Are you sure you want to delete this member type?")&&t(r.filter(o=>o.id!==s))};return e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Member Type Management"}),e.jsxs(E,{open:l,onOpenChange:a,children:[e.jsx(P,{asChild:!0,children:e.jsxs(c,{className:"sm:w-auto w-full",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Add Member Type"]})}),e.jsxs(A,{className:"sm:max-w-[600px]",children:[e.jsx(V,{children:e.jsx(H,{className:"text-lg font-semibold",children:d?"Edit Member Type":"Create New Member Type"})}),e.jsx(U,{initialData:d,onSubmit:C,onCancel:()=>{a(!1),g(null)}})]})]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(O,{children:[e.jsx(k,{className:"bg-gray-50",children:e.jsxs(S,{children:[e.jsx(n,{className:"w-[200px]",children:"Member Type"}),e.jsx(n,{children:"Description"}),e.jsx(n,{children:"Access Level"}),e.jsx(n,{children:"Created"}),e.jsx(n,{className:"w-[150px]",children:"Actions"})]})}),e.jsx(z,{children:r.map(s=>e.jsxs(S,{className:"hover:bg-gray-50",children:[e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.description}),e.jsx(i,{children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.accessLevel==="Premium"?"bg-purple-100 text-purple-800":s.accessLevel==="Standard"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.accessLevel})}),e.jsx(i,{children:new Date(s.dateCreated).toLocaleDateString()}),e.jsx(i,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{g(s),a(!0)},className:"hover:bg-gray-100",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>N(s.id),className:"hover:bg-red-600",children:e.jsx($,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})}export{_ as default};
