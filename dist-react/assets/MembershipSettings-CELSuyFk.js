import{r as u,j as e,D as T,x as N,B as l,h as y,o as v,p as A,q as g,y as r,I as x,C as w,T as P,z as S,A as F,E as p,G as n,H as E,J as i,K as k,M as q}from"./index-By-M4bTe.js";const f=["Student","AHEC Affiliate","GT34","Senior","Adult","Youth"],H=()=>{const[c,h]=u.useState([{id:"1",name:"Basic Monthly",accessCategories:["Adult","Senior"],pricePerMonth:29.99,introDate:"2023-01-01",maxMembers:null,description:"Access to basic facilities"},{id:"2",name:"Student Semester",accessCategories:["Student"],pricePerMonth:24.99,introDate:"2023-08-15",maxMembers:1e3,description:"Discounted rate for students"}]),[D,d]=u.useState(!1),[s,m]=u.useState(null),M=a=>{a.preventDefault();const t=new FormData(a.currentTarget),j={id:(s==null?void 0:s.id)||Date.now().toString(),name:t.get("name"),accessCategories:f.filter(o=>t.get(o)==="on"),pricePerMonth:Number.parseFloat(t.get("pricePerMonth")),introDate:t.get("introDate"),maxMembers:t.get("maxMembers")?Number.parseInt(t.get("maxMembers")):null,description:t.get("description")};h(s?c.map(o=>o.id===s.id?j:o):[...c,j]),m(null),d(!1)},b=a=>{m(a),d(!0)},C=a=>{window.confirm("Are you sure you want to delete this membership type?")&&h(c.filter(t=>t.id!==a))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Membership Types"}),e.jsxs(T,{open:D,onOpenChange:d,children:[e.jsx(N,{asChild:!0,children:e.jsxs(l,{onClick:()=>m(null),children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Add New Membership Type"]})}),e.jsxs(v,{className:"sm:max-w-[425px]",children:[e.jsx(A,{children:e.jsx(g,{children:s?"Edit Membership Type":"Add New Membership Type"})}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",children:"Name"}),e.jsx(x,{id:"name",name:"name",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Access Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{id:a,name:a,defaultChecked:s==null?void 0:s.accessCategories.includes(a)}),e.jsx(r,{htmlFor:a,children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"pricePerMonth",children:"Price per Month"}),e.jsx(x,{id:"pricePerMonth",name:"pricePerMonth",type:"number",step:"0.01",defaultValue:s==null?void 0:s.pricePerMonth,required:!0})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"introDate",children:"Intro Date"}),e.jsx(x,{id:"introDate",name:"introDate",type:"date",defaultValue:s==null?void 0:s.introDate,required:!0})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"maxMembers",children:"Max Members (optional)"}),e.jsx(x,{id:"maxMembers",name:"maxMembers",type:"number",defaultValue:(s==null?void 0:s.maxMembers)||""})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(P,{id:"description",name:"description",defaultValue:s==null?void 0:s.description,required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsxs(l,{type:"submit",children:[s?"Update":"Add"," Membership Type"]})]})]})]})]})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs(p,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Access Categories"}),e.jsx(n,{children:"Price/Month"}),e.jsx(n,{children:"Intro Date"}),e.jsx(n,{children:"Max Members"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(E,{children:c.map(a=>e.jsxs(p,{children:[e.jsx(i,{children:a.name}),e.jsx(i,{children:a.accessCategories.join(", ")}),e.jsxs(i,{children:["$",a.pricePerMonth.toFixed(2)]}),e.jsx(i,{children:a.introDate}),e.jsx(i,{children:a.maxMembers||"Unlimited"}),e.jsxs(i,{children:[e.jsxs(l,{variant:"outline",size:"sm",className:"mr-2",onClick:()=>b(a),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(l,{variant:"destructive",size:"sm",onClick:()=>C(a.id),children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]},a.id))})]})]})};export{H as default};
